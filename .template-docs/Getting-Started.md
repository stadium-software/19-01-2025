# Getting Started Guide

Complete step-by-step guide to set up and start developing with this template.

---

## Prerequisites

Before you begin, ensure you have:

- Node.js 18+ and npm installed
- Git installed
- VSCode (recommended) with [Claude Code extension](https://marketplace.visualstudio.com/items?itemName=anthropic.claude-code)
- GitHub account (for cloning template)

**Check versions:**
```bash
node --version    # Should be v18 or higher
npm --version
git --version
```

---

## Step 1: Create Your Project

### Option A: GitHub Web UI (Easiest)

1. Go to the template repository on GitHub
2. Click **"Use this template"** button (top right)
3. Enter your project name
4. Choose visibility (Public/Private)
5. Click **"Create repository"**
6. Clone your new repo:
   ```bash
   git clone https://github.com/your-username/your-project.git
   cd your-project
   ```

### Option B: GitHub CLI (Fastest)

```bash
# Install GitHub CLI: https://cli.github.com/
gh auth login

# Create from template
gh repo create my-project \
  --template username/template-repo \
  --private \
  --clone

cd my-project
```

---

## Step 2: Install Dependencies

```bash
cd web
npm install
```

**What happens automatically:**
- Installs all dependencies (~2-5 minutes)
- Creates `.env.local` with secure defaults
- Generates `NEXTAUTH_SECRET` for you
- Initializes Husky git hooks
- Opens README.md in VSCode (if available)

**Expected output:**
```
added XXX packages in Xs

ðŸŽ‰ Welcome to the AI-Driven Development Template!
âœ… Created .env.local from .env.example
ðŸ” Generated NEXTAUTH_SECRET automatically
```

---

## Step 3: Verify Environment (Auto-Configured)

> **Good news!** Your environment was automatically configured during `npm install`.

The install process:
- Created `.env.local` from `.env.example`
- Generated a secure `NEXTAUTH_SECRET` automatically

**Verify it worked:**
```bash
# Check the file exists
cat .env.local
```

You should see:
```bash
NEXT_PUBLIC_API_BASE_URL=http://localhost:8042
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=<auto-generated-secret>
```

**If you need to customize:**
```bash
# Edit .env.local to change API URL or other settings
# The NEXTAUTH_SECRET is already secure - no changes needed for development
```

**Important:**
- Never commit `.env.local` to git (already in `.gitignore`)
- Use different secrets for dev/staging/prod
- For production, set environment variables in your hosting platform

---

## Step 4: Start Development Server

```bash
npm run dev
```

**Server starts at:** http://localhost:3000

**You should see:**
```
  Next.js 16.x.x
  - Local:        http://localhost:3000
  - Ready in 2.3s
```

**Open in browser:** http://localhost:3000

---

## Step 5: Verify Setup

### Using Claude Code

In VSCode, open Claude Code and type:
```
/start
```

This will:
- Check `node_modules` exists
- Verify TypeScript configuration
- Check ESLint works
- Confirm setup complete

### Manual Verification

```bash
# Check TypeScript
npx tsc --noEmit
# Should show: No errors

# Check ESLint
npm run lint
# Should show: No linting errors

# Check tests
npm test
# Should show: All tests passing

# Check build
npm run build
# Should complete successfully
```

**All green?** You're ready to build!

---

## Step 6: Explore the Template

### Test Authentication

1. Visit: http://localhost:3000/auth/signin
2. Use the demo credentials below to test different user roles

> **Demo Credentials (Development Only)**
>
> These accounts are for local testing only and are automatically disabled in production.
>
> | Email | Password | Role |
> |-------|----------|------|
> | `admin@example.com` | `Admin123!` | Admin (full access) |
> | `power@example.com` | `Power123!` | Power User |
> | `user@example.com` | `User123!` | Standard User |
> | `readonly@example.com` | `Reader123!` | Read-Only |
>
> See [Authentication docs](./Help/Authentication.md) for production setup.

### Check File Structure

```
project-root/
â”œâ”€â”€ web/                  # Next.js frontend
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/          # Next.js App Router pages
â”‚   â”‚   â”œâ”€â”€ components/   # Reusable React components
â”‚   â”‚   â”œâ”€â”€ lib/          # Utility functions
â”‚   â”‚   â””â”€â”€ types/        # TypeScript types
â”‚   â””â”€â”€ __tests__/        # Vitest integration tests
â”œâ”€â”€ api/                  # OpenAPI specification
â”œâ”€â”€ .claude/              # Claude Code config & agents
â””â”€â”€ .template-docs/       # Documentation (this folder!)
```

---

## Step 7: Start Building

### Using Claude Code Workflow

In Claude Code chat:

```
/feature
```

**This starts the AI-guided workflow:**
1. **Planning** - Describe your feature
2. **Implementation** - AI agents help build
3. **Testing** - Generate tests
4. **Review** - Code quality check
5. **Quality Gates** - Validate before PR

**Tip:** Use `/status` to see where you are, or `/continue` to resume an interrupted workflow.

### Manual Development

```bash
# Create new page
mkdir -p src/app/profile
touch src/app/profile/page.tsx

# Add component
mkdir -p src/components/UserProfile
touch src/components/UserProfile/UserProfile.tsx

# Run dev server (if not running)
npm run dev
```

---

## Step 8: Quality Checks

Before committing, run quality checks:

### Quick Check (Manual)

```bash
npm run lint:fix     # Fix linting issues
npm run format       # Format code
npm test             # Run tests
```

### Complete Check (Claude Code)

```
/quality-check
```

**This runs all quality gates:**
1. Security (npm audit)
2. Code Quality (TypeScript + ESLint + Build)
3. Testing (Vitest)

---

## Step 9: Commit & Push

### Commit Your Changes

```bash
# Stage changes
git add .

# Commit (pre-commit hooks run automatically)
git commit -m "feat: add user profile page"

# Push
git push origin main
```

**Pre-commit hooks check:**
- TypeScript compiles
- ESLint passes
- Code is formatted

**If hooks fail:**
```bash
# Fix issues and try again
npm run lint:fix
npm run format
git add .
git commit -m "feat: add user profile page"
```

---

## Step 10: Create Pull Request

### Using GitHub CLI

```bash
gh pr create --title "Add user profile page" --body "$(cat <<EOF
## Summary
- Added user profile page
- Includes edit functionality
- Tests passing

## Quality Gates
All gates passed

See commit for details.
EOF
)"
```

---

## Session Logging

All Claude Code sessions are automatically logged to `.claude/logs/` as markdown files.

**Find your logs:** `.claude/logs/YYYY-MM-DD_HH-mmZ-description-SESSIONID.md`

**What's captured:**
- User prompts and AI responses with timestamps
- Tools used and files modified
- Token usage (when `/context` is run)
- Session summaries on exit or `/compact`

**Automatic /clear recovery:** Sessions cleared with `/clear` are automatically recovered when the next session starts.

For full details, see [Session Logging Guide](./guides/CLAUDE-LOGGING.md).

---

## Receiving Template Updates

This template includes infrastructure to help you stay up-to-date with improvements.

### What Syncs Automatically

The `sync-template.yml` workflow runs weekly (Sundays at midnight UTC) and creates a PR for infrastructure updates:

| Auto-Synced | Description |
|-------------|-------------|
| `.github/workflows/` | CI/CD pipelines, quality gates |
| `.github/scripts/` | Security validator, progress generator |
| `.claude/` | Agent configurations, commands |
| `CLAUDE.md` | Development guidelines |
| `CHANGELOG.md` | Version history |
| Root configs | `.templatesyncignore`, etc. |

### What Requires Manual Review

The `/web` folder is **excluded from automatic sync** to protect your code:

| Manual Review | Why |
|---------------|-----|
| `web/src/lib/` | Core utilities (API client, auth, validation) |
| `web/src/app/` | Your pages and layouts |
| `web/src/components/` | Your components |
| `web/package.json` | Your dependencies |

**To apply `/web` updates:**
1. Check the [CHANGELOG.md](../CHANGELOG.md) for new releases
2. Review what changed in the template's `/web` folder
3. Manually apply relevant changes to your project

### Triggering a Sync

**Automatic:** Runs every Sunday at midnight UTC

**Manual:** Go to Actions â†’ Sync from Template â†’ Run workflow

### Reviewing Sync PRs

When a sync PR is created:
1. Review the infrastructure changes
2. Test locally before merging
3. Check CHANGELOG for any `/web` updates to apply manually

### Opting Out

Delete `.github/workflows/sync-template.yml` from your repository to disable automatic syncing.

---

## Next Steps

### Learn the Workflow

- Read [Workflows Guide](.claude/WORKFLOWS.md)
- Try [Claude Code Agents](.claude/agents/)
- Check [Quality Gates](./Help/Quality-Gates.md)

### Customize for Your Project

- Update `README.md` with your project info
- Configure [Authentication](./Help/Authentication.md) for production
- Set up [RBAC](./Help/RBAC.md) with your roles
- Add your branding and styling

### Deploy

- **Vercel:** Connect repo -> Auto-deploys
- **Netlify:** Similar to Vercel
- **Self-hosted:** `npm run build && npm run start`

See your deployment platform's docs for details.

---

## Common First-Time Issues

### "Module not found" errors
**Solution:** `rm -rf node_modules && npm install`

### Environment variables not loading
**Solution:** Check `.env.local` exists and restart dev server

### Port 3000 already in use
**Solution:** `npx kill-port 3000` then `npm run dev`

### Pre-commit hooks failing
**Solution:** `npm run lint:fix && npm run format` then commit again

**More help:** See [Troubleshooting Guide](./Help/Troubleshooting.md)

---

## Getting Help

### Ask Claude Code

Just ask! Claude has access to all documentation:
```
How do I add authentication to a page?
How do I create a new API route?
What's the project structure?
```

### Read Documentation

- [Authentication](./Help/Authentication.md)
- [RBAC](./Help/RBAC.md)
- [Environment Variables](./Help/Environment-Variables.md)
- [Quality Gates](./Help/Quality-Gates.md)
- [Development Scripts](./Help/Development-Scripts.md)
- [Troubleshooting](./Help/Troubleshooting.md)

### External Resources

- [Next.js Docs](https://nextjs.org/docs)
- [NextAuth.js Docs](https://authjs.dev/)
- [Tailwind CSS Docs](https://tailwindcss.com/docs)
- [Shadcn/ui Docs](https://ui.shadcn.com/)
- [Vitest Docs](https://vitest.dev/)
- [React Testing Library Docs](https://testing-library.com/docs/react-testing-library/intro/)

---

**Ready to build something amazing?** Type `/feature` in Claude Code and let's go!
